# Ansible Configuration for Dev Environment

This documentation covers the Ansible configuration located in the `ansible/` directory to provision the application server in the development environment.

## Overview

The Ansible playbook performs the following tasks on the target EC2 instance:
1.  Installs **Git** and **Nginx**.
2.  Clones the portfolio website repository to `/var/www/portfolio`.
3.  Configures Nginx to serve the static site using a custom template.
4.  Sets appropriate file permissions and security headers.

## Directory Structure

- `inventory-dev.ini`: Defines the target hosts and connection details for the dev environment.
- `site-dev.yml`: The main Ansible playbook for the dev environment.
- `roles/`: Contains reusable Ansible roles.
  - `webserver/`: Role that handles Nginx installation, configuration, and git cloning.

## Prerequisites

- Ansible installed on your local machine.
- SSH access to the EC2 instance (ensure your public key is added to the instance via Terraform or manually).
- The private key file located at `~/.ssh/id_ed25519` (or update `inventory-dev.ini` to match your key path).

## Usage

1.  **Update Inventory**:
    Edit `ansible/inventory-dev.ini` with the public IP address of your EC2 instance (which can be obtained from the Terraform output).  The environment specific inventory file is also generated by Terraform during an apply.

    ```ini
    [ec2_instances_dev]
    <EC2_PUBLIC_IP> ansible_user=ec2-user ansible_ssh_private_key_file=~/.ssh/id_ed25519
    ```

2.  **Run the Playbook**:
    Navigate to the `ansible/` directory and execute:

    ```bash
    ansible-playbook -i inventory-dev.ini site-dev.yml
    ```

3.  **Verify**:
    Open a web browser and navigate to the EC2 instance's public IP (http://<EC2_PUBLIC_IP>) to see the deployed portfolio.
    *Note: Ensure the Security Group allows inbound traffic on port 80.*